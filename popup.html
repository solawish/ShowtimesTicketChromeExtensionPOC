<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>秀泰影城購票配置</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <h1>購票配置</h1>
    
    <div class="form-group">
      <label for="movie-select">電影</label>
      <select id="movie-select" class="select-menu">
        <option value="">請選擇電影</option>
      </select>
      <div class="loading" id="movie-loading" style="display: none;">載入中...</div>
      <div class="error" id="movie-error" style="display: none;"></div>
    </div>

    <div class="form-group">
      <label for="venue-select">場地</label>
      <select id="venue-select" class="select-menu" disabled>
        <option value="">請先選擇電影</option>
      </select>
      <div class="loading" id="venue-loading" style="display: none;">載入中...</div>
      <div class="error" id="venue-error" style="display: none;"></div>
    </div>

    <div class="form-group">
      <label for="time-select">時間</label>
      <select id="time-select" class="select-menu" disabled>
        <option value="">請先選擇場地</option>
      </select>
      <div class="loading" id="time-loading" style="display: none;">載入中...</div>
      <div class="error" id="time-error" style="display: none;"></div>
    </div>

    <div class="form-group">
      <label for="ticket-keyword-input">票種關鍵詞</label>
      <div class="keyword-input-group">
        <input type="text" id="ticket-keyword-input" class="keyword-input" placeholder="輸入關鍵字（選填）">
        <label class="checkbox-label">
          <input type="checkbox" id="ticket-keyword-auto-select">
          <span>啟用依關鍵詞自動選票</span>
        </label>
      </div>
      <div class="keyword-hint" id="ticket-keyword-hint" style="display: none;">
        啟用後不需使用且會無視下方「票種」下拉式選單，系統會在按下訂票時依關鍵字或預設優先順序（關鍵字 → 全票 → 單人套票 → 排除老人／愛心後取第一個）自動選擇票種後再繼續流程
      </div>
    </div>

    <div class="form-group">
      <label for="ticket-type-select">票種</label>
      <div class="select-with-button">
        <select id="ticket-type-select" class="select-menu" disabled>
          <option value="">請先選擇時間</option>
        </select>
        <button id="ticket-type-reload-button" class="reload-button" type="button" disabled>重新讀取</button>
      </div>
      <div class="loading" id="ticket-type-loading" style="display: none;">載入中...</div>
      <div class="error" id="ticket-type-error" style="display: none;"></div>
    </div>

    <div class="form-group">
      <label for="quantity-select">數量</label>
      <select id="quantity-select" class="select-menu">
        <option value="">請選擇數量</option>
      </select>
    </div>

    <div class="status-message" id="status-message" style="display: none;"></div>

    <button id="book-button" class="primary-button" type="button">訂票</button>
  </div>

  <script src="popup.js"></script>
</body>
</html>
